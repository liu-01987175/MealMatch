<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MealMatch â€“ Restaurants Near You</title>
  <!-- Bootstrap CSS -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
  />
  <link rel="stylesheet" href="styles/custom.css" />
</head>
<body>
  <div class="container py-4">
    <!-- Back Button -->
    <a href="index.html" class="btn btn-outline-secondary mb-3">&larr; Back to Search</a>

    <!-- In-page Location Search -->
    <form id="new-location-form" class="d-flex mb-4" onsubmit="changeLocation(); return false;">
      <input 
        id="new-location-input" 
        type="text" 
        class="form-control me-2" 
        placeholder="Search new location" 
        aria-label="New location" 
      />
      <button class="btn btn-primary" type="submit">Search Location</button>
    </form>

    <!-- Filter Controls -->
    <h2 class="section-heading text-center">Restaurants Near You</h2>
    <form id="filterForm" class="row row-cols-lg-auto g-3 align-items-center mb-3">
      <div class="col-12">
        <label for="priceSelect" class="form-label fw-semibold me-2">Price:</label>
        <select id="priceSelect" class="form-select">
          <option value="" selected>Any</option>
          <option value="1">$</option>
          <option value="2">$$</option>
          <option value="3">$$$</option>
          <option value="4">$$$$</option>
        </select>
      </div>
      <div class="col-12">
        <label for="radiusRange" class="form-label fw-semibold me-2">Radius:</label>
        <input 
          type="range" 
          id="radiusRange" 
          class="form-range align-middle" 
          min="1" max="20" value="5" step="1" 
        />
        <span id="radiusDisplay" class="fw-semibold">5</span> miles
      </div>
      <div class="col-12">
        <label for="sortSelect" class="form-label fw-semibold me-2">Sort:</label>
        <select id="sortSelect" class="form-select">
          <option value="prominence" selected>Relevance</option>
          <option value="distance">Nearest</option>
        </select>
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-danger">Apply Filters</button>
      </div>
      <div class="col-12">
        <button type="button" id="randomizeBtn" class="btn btn-outline-danger">Randomize</button>
      </div>
    </form>

    <!-- Restaurants List -->
    <div id="results-list" class="list-group mb-3"></div>

    <!-- Load More Pagination -->
    <div id="pagination-controls" class="text-center mb-4">
      <button id="load-more-btn" class="btn btn-secondary" style="display:none;">Load More Results</button>
    </div>

    <!-- Hidden map container for PlacesService -->
    <div id="map" style="display:none;"></div>
  </div>

  <!-- Config and Page Script -->
  <script src="scripts/config.js"></script>
  <script src="scripts/list.js"></script>
</body>
</html>
